{% extends 'base.html.twig' %}

{% block title %}Accueil - Bolonews{% endblock %}

{% block body %}
    <h1>Les derniers articles</h1>

    <div class="articles">
        {% for article in articles %}
            <div class="article-card" style="border:1px solid #ccc; border-radius:10px; padding:20px; margin-bottom:30px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); background-color: #fff;">
                
                {# Image de l‚Äôarticle s‚Äôil y en a une #}
                {% if article.image %}
                    <img src="{{ asset('uploads/images/' ~ article.image) }}" alt="{{ article.titre }}" style="max-width:100%; height:auto; margin-bottom:15px;">
                {% endif %}

                <h2 style="margin-bottom:10px;">
                    <a href="{{ path('article_show', { id: article.id }) }}" style="text-decoration: none; color: #333;">
                        {{ article.titre }}
                    </a>
                </h2>

                <p><strong>Cat√©gorie :</strong> {{ article.categorie is defined ? article.categorie : 'Non cat√©goris√©' }}</p>
                <p><strong>Auteur :</strong> {{ article.auteur ? article.auteur.pseudo : 'Inconnu' }}</p>


                <p><strong>Date :</strong> {{ article.dateCreation ? article.dateCreation|date('d/m/Y') : '' }}</p>

                <p style="margin: 15px 0;">{{ article.chapeau|length > 200 ? article.chapeau|slice(0, 200) ~ '‚Ä¶' : article.chapeau }}</p>

                <p><strong>üëç</strong> {{ article.likes }} like(s)</p>

                <a href="{{ path('article_show', { id: article.id }) }}">Lire l‚Äôarticle ‚Üí</a>

            </div>
        {% else %}
            <p>Aucun article publi√©.</p>
        {% endfor %}
    </div>
{% endblock %}
